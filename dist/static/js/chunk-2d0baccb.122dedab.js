(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0baccb"],{"396e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sell"},[a("div",{staticClass:"sell-header"},[a("view-header",{attrs:{title:e.title,subtitle:e.subtitle}})],1),a("stock-search",{attrs:{filter:e.filter}}),a("stock-table",{ref:"stockTable",attrs:{dataType:e.dataType,searchDate:e.searchDate,title:e.title}})],1)},i=[],n=(a("c5f6"),a("96cf"),a("1da1")),s=(a("7f7f"),a("a481"),a("be94")),o=(a("456d"),a("ac6a"),a("386d"),a("074d")),c=a("8342"),l=a("ad40"),u=a("880a"),y={name:"sales",components:{viewHeader:o["a"],stockSearch:c["a"],stockTable:l["a"]},data:function(){return{title:"已售罄的商品",subtitle:"已售罄的商品管理",dataType:"saled",filter:[[{name:"商品名：",type:"default",key:"goods_name",goods_name:""},{name:"交货期：",type:"select",key:"delivery_type",delivery_type:"全部",options:[]},{name:"品牌：",type:"select",key:"brand_id",brand_id:"",optLabel:"name",optValue:"id",options:[]}],[{name:"商品编号：",type:"default",key:"goods_id",goods_id:""},{name:"价格：",type:"double",key:"price",price:[{key:"min_price",min_price:"",labelShow:!0},{key:"max_price",max_price:"",labelShow:!1}]}],[{name:"上架时间：",type:"date",key:"completeTime",completeTime:[]},{type:"handle",buttons:[{name:"search",size:"small",label:"搜索",handle:this.search},{name:"reset",size:"small",label:"重置",handle:this.reset}]}]],searchDate:{}}},methods:{search:function(){var e={};this.filter.map(function(t){return t.map(function(t){if("completeTime"!==t.key||t[t.key]||(e[t.key]=[]),t[t.key]&&(e[t.key]=t[t.key]),"全部"===t[t.key]&&delete e[t.key],"price"===t.key){var a=t[t.key];a.map(function(t){e[t.key]=t[t.key]}),delete e[t.key]}"completeTime"===t.key&&(e.online_stm=e[t.key][0],e.online_etm=e[t.key][1],delete e[t.key])})}),Object.keys(e).forEach(function(t){e[t]||delete e[t]}),this.searchDate=e;var t=Object(s["a"])({page_size:this.$route.query.page_size,page:this.$route.query.page},this.searchDate);this.$router.replace({name:this.$route.name,query:Object(s["a"])({},t)})},reset:function(){this.filter.map(function(e){return e.map(function(e){"select"===e.type?e[e.key]="全部":"price"===e.key?e[e.key]=[{key:"min_price",min_price:"",labelShow:!0},{key:"max_price",max_price:"",labelShow:!1}]:"completeTime"===e.key?e[e.key]=[]:e[e.key]=""})}),this.searchDate={};var e=Object(s["a"])({page_size:this.$route.query.page_size,page:this.$route.query.page},this.searchDate);this.$router.replace({name:this.$route.name,query:Object(s["a"])({},e)})},filterInit:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,r,i,n,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get(u["y"]);case 3:return t=e.sent,a=t.data,e.next=7,this.$axios.get(u["f"]);case 7:r=e.sent,i=r.data,this.filter.forEach(function(e){return e.forEach(function(e){if("delivery_type"===e.key&&(e.options=i.delivery_type),"brand_id"===e.key&&(e.options=a.brand),"price"===e.key){var t=e[e.key];t.map(function(e){t[e.key]=s.$route.query[e.key]||""})}else"completeTime"===e.key?e[e.key]=[s.$route.query["online_stm"]||"",s.$route.query["online_etm"]||""]:"brand_id"===e.key?e[e.key]=Number(s.$route.query[e.key])||"":e[e.key]=s.$route.query[e.key]||""})}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),n=e.t0.msg,this.$message.error(n);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},mounted:function(){},beforeRouteEnter:function(e,t,a){a(function(e){e.filterInit()})},beforeRouteUpdate:function(e,t,a){a(),this.$refs.stockTable.goodsSkuList()}},p=y,k=a("2877"),m=Object(k["a"])(p,r,i,!1,null,null,null);m.options.__file="out.vue";t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0baccb.122dedab.js.map