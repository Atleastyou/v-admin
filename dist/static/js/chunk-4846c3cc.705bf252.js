(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4846c3cc"],{"02f4":function(e,t,r){var i=r("4588"),n=r("be13");e.exports=function(e){return function(t,r){var a,s,c=String(n(t)),o=i(r),u=c.length;return o<0||o>=u?e?"":void 0:(a=c.charCodeAt(o),a<55296||a>56319||o+1===u||(s=c.charCodeAt(o+1))<56320||s>57343?e?c.charAt(o):a:e?c.slice(o,o+2):s-56320+(a-55296<<10)+65536)}}},"074d":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view-header"},[r("div",{staticClass:"icon-back",on:{click:e.back}}),r("span",{staticClass:"header-title"},[e._v(e._s(e.title))]),e.subtitle?r("span",{staticClass:"header-info"},[e._v(e._s(e.subtitle))]):e._e()])},n=[],a={name:"viewHeader",props:{title:{type:String,required:!0},subtitle:String},methods:{back:function(){this.$router.back()}}},s=a,c=(r("0f6c"),r("2877")),o=Object(c["a"])(s,i,n,!1,null,"2a55274f",null);o.options.__file="viewHeader.vue";t["a"]=o.exports},"0f6c":function(e,t,r){"use strict";var i=r("d83e"),n=r.n(i);n.a},"11e9":function(e,t,r){var i=r("52a7"),n=r("4630"),a=r("6821"),s=r("6a99"),c=r("69a8"),o=r("c69a"),u=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?u:function(e,t){if(e=a(e),t=s(t,!0),o)try{return u(e,t)}catch(r){}if(c(e,t))return n(!i.f.call(e,t),e[t])}},"1c4c":function(e,t,r){"use strict";var i=r("9b43"),n=r("5ca1"),a=r("4bf8"),s=r("1fa8"),c=r("33a4"),o=r("9def"),u=r("f1ae"),f=r("27ee");n(n.S+n.F*!r("5cc5")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,n,d,l=a(e),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,k=void 0!==v,y=0,g=f(l);if(k&&(v=i(v,p>2?arguments[2]:void 0,2)),void 0==g||h==Array&&c(g))for(t=o(l.length),r=new h(t);t>y;y++)u(r,y,k?v(l[y],y):l[y]);else for(d=g.call(l),r=new h;!(n=d.next()).done;y++)u(r,y,k?s(d,v,[n.value,y],!0):n.value);return r.length=y,r}})},2559:function(e,t,r){},"3be9":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-area"},[r("div",{staticClass:"edit-area_header"},[r("view-header",{attrs:{title:e.title,subtitle:e.subtitle}})],1),r("div",{staticClass:"edit-area_content"},[r("div",{staticClass:"area_form"},[e._m(0),r("el-input",{attrs:{size:"mini"},model:{value:e.inputTitle,callback:function(t){e.inputTitle=t},expression:"inputTitle"}})],1),r("div",{staticClass:"tree"},[r("div",{staticClass:"select-all"},[r("el-checkbox",{attrs:{size:"medium"},on:{change:e.changeChecked},model:{value:e.allChecked,callback:function(t){e.allChecked=t},expression:"allChecked"}},[e._v("全选")]),r("div",{staticClass:"reminder"},[e._v("提示：勾选该地区，代表选中的商品可以在该地区开放销售")])],1),r("el-container",{staticClass:"tree-content",attrs:{direction:"vertical"}},[r("el-row",{attrs:{gutter:20}},e._l(e.treeData,function(t,i){return r("el-col",{key:i,attrs:{span:8}},[r("el-tree",{ref:"tree_"+i,refInFor:!0,attrs:{data:t,"show-checkbox":"","node-key":"id","highlight-current":"",props:e.defaultProps,accordion:""},on:{"check-change":e.currentCheckChange,"node-expand":e.nodeExpand}})],1)}))],1),r("div",{staticClass:"tree-footer"},[r("el-button",{attrs:{size:"mini",name:"search"},on:{click:e.saveCheckedKeys}},[e._v("保存并使用")]),r("el-button",{attrs:{size:"mini",name:"reset"},on:{click:e.resetCheckedKeys}},[e._v("重置")])],1)],1)])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"area_form-label"},[r("div",{staticClass:"label_important"},[e._v("*")]),r("span",[e._v("模板姓名：")])])}];function a(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){return a(e)||s(e)||c()}r("96cf");var u=r("1da1"),f=(r("4f7f"),r("5df3"),r("1c4c"),r("ac6a"),r("074d")),d=r("880a"),l={name:"editArea",components:{viewHeader:f["a"]},data:function(){return{title:"新建销售区域模板",subtitle:"通过设置模板可限制商品可售区域",name:"",allChecked:!1,treeData:[],defaultProps:{children:"child",label:"name"},inputTitle:"",prevData:{},keysList:[],checkNode:[],defaultCheckedList:[],defaultId:""}},methods:{currentCheckChange:function(e,t,r){var i=this;t?(this.checkNode.push(e.id),this.defaultCheckedList.push(e.id)):(this.checkNode.forEach(function(t,r){t===e.id&&i.checkNode.splice(r,1)}),this.defaultCheckedList.forEach(function(t,r){t===e.id&&i.defaultCheckedList.splice(r,1)})),this.defaultCheckedList=Array.from(new Set(this.defaultCheckedList)),this.keysList.length===this.checkNode.length?this.allChecked=!0:this.allChecked=!1},resetCheckedKeys:function(){this.defaultCheckedList=[],this.setCheckedKeys()},changeChecked:function(e){if(this.defaultCheckedList=[],e){for(var t in this.treeData)for(var r in this.treeData[t])""!==this.treeData[t][r].id&&this.defaultCheckedList.push(this.treeData[t][r].id);this.setCheckedKeys()}else this.setCheckedKeys()},setCheckedKeys:function(){this.$refs.tree_0[0].setCheckedKeys(this.defaultCheckedList),this.$refs.tree_1[0].setCheckedKeys(this.defaultCheckedList),this.$refs.tree_2[0].setCheckedKeys(this.defaultCheckedList)},getAreaTemplateItemsByType:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.get(d["k"],{params:{id:this.defaultId,type:"province",pid:0}});case 2:t=e.sent,r=t.data,r.forEach(function(e){i.defaultCheckedList.push(e.id)}),this.setCheckedKeys();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),saveCheckedKeys:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.inputTitle){e.next=4;break}return this.$message.error("模板名称必填"),e.abrupt("return");case 4:return t={ids:this.checkNode,title:this.inputTitle},this.defaultId&&(t.id=this.defaultId),e.next=8,this.$axios.post(d["g"],t);case 8:this.$message({type:"success",message:"操作成功"}),this.$router.go(-1),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),r=e.t0.msg,this.$message.error(r);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),getRegion:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,i,n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.post(d["m"],{pid:0});case 2:for(t=e.sent,r=t.data,i=[],r.forEach(function(e){e.child_num>0&&(e.child=[{id:"",name:""}]),e.grade=1,e.isPostNode=!0,e.gradeType="city",a.keysList.push(e.id)}),n=0;n<r.length;n+=12)i.push(r.slice(n,n+12));this.treeData=i;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getAreaTemplateItems:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.post(d["j"],{id:this.defaultId});case 3:t=e.sent,r=t.data,this.defaultCheckedList=o(r),this.setCheckedKeys(),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),i=e.t0.msg,this.$message.error(i);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),nodeExpand:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,r,i){var n,a,s,c,o,u=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!1===r.checked&&(this.allChecked=!1),!r.data.isPostNode){e.next=19;break}if(!r.checked){e.next=10;break}return this.defaultCheckedList.forEach(function(e,t){r.data.id===e&&u.defaultCheckedList.splice(t,1)}),e.next=7,this.$axios.get(d["k"],{params:{id:this.defaultId,type:r.data.gradeType,pid:r.data.id}});case 7:n=e.sent,a=n.data,a.length>0&&a.forEach(function(e){1===a.length&&0===e.id?u.defaultCheckedList.push(r.data.id):u.defaultCheckedList.push(e.id)});case 10:return s={pid:r.data.id},e.next=13,this.$axios.post(d["m"],s);case 13:c=e.sent,o=c.data,o.forEach(function(e){e.child_num>0&&(e.child=[{id:"",name:""}]),u.keysList.push(e.id),e.isPostNode=!0,"city"===r.data.gradeType&&(e.gradeType="district"),"district"===r.data.gradeType&&(e.gradeType="street")}),r.data.isPostNode=!1,t.child=o,setTimeout(function(){u.setCheckedKeys()},500);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](0),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[0,21]])}));return function(t,r,i){return e.apply(this,arguments)}}()},beforeRouteEnter:function(e,t,r){r(function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.query.id?(r.title="修改销售区域模板",r.defaultId=e.query.id):r.title="新建销售区域模板",e.query.title&&(r.inputTitle=e.query.title),t.next=4,r.getRegion();case 4:return t.next=6,r.getAreaTemplateItems();case 6:return t.next=8,r.getAreaTemplateItemsByType();case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}},h=l,p=(r("6e6b"),r("2877")),v=Object(p["a"])(h,i,n,!1,null,"16d43767",null);v.options.__file="editArea.vue";t["default"]=v.exports},"4f7f":function(e,t,r){"use strict";var i=r("c26b"),n=r("b39a"),a="Set";e.exports=r("e0b8")(a,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(n(this,a),e=0===e?0:e,e)}},i)},"52a7":function(e,t){t.f={}.propertyIsEnumerable},"5dbc":function(e,t,r){var i=r("d3f4"),n=r("8b97").set;e.exports=function(e,t,r){var a,s=t.constructor;return s!==r&&"function"==typeof s&&(a=s.prototype)!==r.prototype&&i(a)&&n&&n(e,a),e}},"5df3":function(e,t,r){"use strict";var i=r("02f4")(!0);r("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=i(t,r),this._i+=e.length,{value:e,done:!1})})},"67ab":function(e,t,r){var i=r("ca5a")("meta"),n=r("d3f4"),a=r("69a8"),s=r("86cc").f,c=0,o=Object.isExtensible||function(){return!0},u=!r("79e5")(function(){return o(Object.preventExtensions({}))}),f=function(e){s(e,i,{value:{i:"O"+ ++c,w:{}}})},d=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!o(e))return"F";if(!t)return"E";f(e)}return e[i].i},l=function(e,t){if(!a(e,i)){if(!o(e))return!0;if(!t)return!1;f(e)}return e[i].w},h=function(e){return u&&p.NEED&&o(e)&&!a(e,i)&&f(e),e},p=e.exports={KEY:i,NEED:!1,fastKey:d,getWeak:l,onFreeze:h}},"6e6b":function(e,t,r){"use strict";var i=r("2559"),n=r.n(i);n.a},"8b97":function(e,t,r){var i=r("d3f4"),n=r("cb7c"),a=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:i(e,r),e}}({},!1):void 0),check:a}},ac6a:function(e,t,r){for(var i=r("cadf"),n=r("0d58"),a=r("2aba"),s=r("7726"),c=r("32e9"),o=r("84f2"),u=r("2b4c"),f=u("iterator"),d=u("toStringTag"),l=o.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(h),v=0;v<p.length;v++){var k,y=p[v],g=h[y],m=s[y],_=m&&m.prototype;if(_&&(_[f]||c(_,f,l),_[d]||c(_,d,y),o[y]=l,g))for(k in i)_[k]||a(_,k,i[k],!0)}},b39a:function(e,t,r){var i=r("d3f4");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},c26b:function(e,t,r){"use strict";var i=r("86cc").f,n=r("2aeb"),a=r("dcbc"),s=r("9b43"),c=r("f605"),o=r("4a59"),u=r("01f9"),f=r("d53b"),d=r("7a56"),l=r("9e1e"),h=r("67ab").fastKey,p=r("b39a"),v=l?"_s":"size",k=function(e,t){var r,i=h(t);if("F"!==i)return e._i[i];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var f=e(function(e,i){c(e,f,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=i&&o(i,r,e[u],e)});return a(f.prototype,{clear:function(){for(var e=p(this,t),r=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=p(this,t),i=k(r,e);if(i){var n=i.n,a=i.p;delete r._i[i.i],i.r=!0,a&&(a.n=n),n&&(n.p=a),r._f==i&&(r._f=n),r._l==i&&(r._l=a),r[v]--}return!!i},forEach:function(e){p(this,t);var r,i=s(e,arguments.length>1?arguments[1]:void 0,3);while(r=r?r.n:this._f){i(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function(e){return!!k(p(this,t),e)}}),l&&i(f.prototype,"size",{get:function(){return p(this,t)[v]}}),f},def:function(e,t,r){var i,n,a=k(e,t);return a?a.v=r:(e._l=a={i:n=h(t,!0),k:t,v:r,p:i=e._l,n:void 0,r:!1},e._f||(e._f=a),i&&(i.n=a),e[v]++,"F"!==n&&(e._i[n]=a)),e},getEntry:k,setStrong:function(e,t,r){u(e,t,function(e,r){this._t=p(e,t),this._k=r,this._l=void 0},function(){var e=this,t=e._k,r=e._l;while(r&&r.r)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?f(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,f(1))},r?"entries":"values",!r,!0),d(t)}}},d83e:function(e,t,r){},e0b8:function(e,t,r){"use strict";var i=r("7726"),n=r("5ca1"),a=r("2aba"),s=r("dcbc"),c=r("67ab"),o=r("4a59"),u=r("f605"),f=r("d3f4"),d=r("79e5"),l=r("5cc5"),h=r("7f20"),p=r("5dbc");e.exports=function(e,t,r,v,k,y){var g=i[e],m=g,_=k?"set":"add",b=m&&m.prototype,C={},w=function(e){var t=b[e];a(b,e,"delete"==e?function(e){return!(y&&!f(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!f(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!f(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof m&&(y||b.forEach&&!d(function(){(new m).entries().next()}))){var x=new m,L=x[_](y?{}:-0,1)!=x,T=d(function(){x.has(1)}),S=l(function(e){new m(e)}),E=!y&&d(function(){var e=new m,t=5;while(t--)e[_](t,t);return!e.has(-0)});S||(m=t(function(t,r){u(t,m,e);var i=p(new g,t,m);return void 0!=r&&o(r,k,i[_],i),i}),m.prototype=b,b.constructor=m),(T||E)&&(w("delete"),w("has"),k&&w("get")),(E||L)&&w(_),y&&b.clear&&delete b.clear}else m=v.getConstructor(t,e,k,_),s(m.prototype,r),c.NEED=!0;return h(m,e),C[e]=m,n(n.G+n.W+n.F*(m!=g),C),y||v.setStrong(m,e,k),m}},f1ae:function(e,t,r){"use strict";var i=r("86cc"),n=r("4630");e.exports=function(e,t,r){t in e?i.f(e,t,n(0,r)):e[t]=r}}}]);
//# sourceMappingURL=chunk-4846c3cc.705bf252.js.map