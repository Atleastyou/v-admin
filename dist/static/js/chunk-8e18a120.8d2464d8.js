(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e18a120"],{"074d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-header"},[a("div",{staticClass:"icon-back",on:{click:t.back}}),a("span",{staticClass:"header-title"},[t._v(t._s(t.title))]),t.subtitle?a("span",{staticClass:"header-info"},[t._v(t._s(t.subtitle))]):t._e()])},r=[],i={name:"viewHeader",props:{title:{type:String,required:!0},subtitle:String},methods:{back:function(){this.$router.back()}}},s=i,o=(a("0f6c"),a("2877")),c=Object(o["a"])(s,n,r,!1,null,"2a55274f",null);c.options.__file="viewHeader.vue";e["a"]=c.exports},"0f6c":function(t,e,a){"use strict";var n=a("d83e"),r=a.n(n);r.a},"11e9":function(t,e,a){var n=a("52a7"),r=a("4630"),i=a("6821"),s=a("6a99"),o=a("69a8"),c=a("c69a"),l=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?l:function(t,e){if(t=i(t),e=s(e,!0),c)try{return l(t,e)}catch(a){}if(o(t,e))return r(!n.f.call(t,e),t[e])}},"176b":function(t,e,a){"use strict";var n=a("367e"),r=a.n(n);r.a},"367e":function(t,e,a){},"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var n=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,n):new RegExp(a)[e](String(n))},a]})},"456d":function(t,e,a){var n=a("4bf8"),r=a("0d58");a("5eda")("keys",function(){return function(t){return r(n(t))}})},4835:function(t,e,a){},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,a){var n=a("d3f4"),r=a("8b97").set;t.exports=function(t,e,a){var i,s=e.constructor;return s!==a&&"function"==typeof s&&(i=s.prototype)!==a.prototype&&n(i)&&r&&r(t,i),t}},"5eda":function(t,e,a){var n=a("5ca1"),r=a("8378"),i=a("79e5");t.exports=function(t,e){var a=(r.Object||{})[t]||Object[t],s={};s[t]=e(a),n(n.S+n.F*i(function(){a(1)}),"Object",s)}},8342:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-search"},t._l(t.filter,function(e){return a("div",{staticClass:"search-form"},[t._l(e,function(e){return["handle"===e.type?a("div",{staticClass:"search-form-item"},[a("span"),a("div",{staticClass:"search-button"},t._l(e.buttons,function(e){return a("el-button",{attrs:{size:e.size,name:e.name},on:{click:e.handle}},[t._v(t._s(e.label))])}))]):"double"===e.type?a("div",{staticClass:"search-form-item"},[a("span",[t._v(t._s(e.name))]),t._l(e.price,function(e,n){return a("div",{key:n,staticClass:"price-item"},[a("el-input",{staticClass:"search-form_input el-input_size",attrs:{size:"small",placeholder:""},model:{value:e[e.key],callback:function(a){t.$set(e,e.key,a)},expression:"num[num.key]"}}),e.labelShow?a("label",[t._v("-")]):t._e()],1)})],2):a("div",{staticClass:"search-form-item"},[a("span",[t._v(t._s(e.name))]),a("div",{staticClass:"form-item_body"},["default"===e.type?a("el-input",{staticClass:"search-form_input",attrs:{size:"small",placeholder:"请输入内容"},model:{value:e[e.key],callback:function(a){t.$set(e,e.key,a)},expression:"item[item.key]"}}):t._e(),"select"===e.type?a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e[e.key],callback:function(a){t.$set(e,e.key,a)},expression:"item[item.key]"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._l(e.options,function(t,n){return a("el-option",{key:n,attrs:{label:e.optLabel?t[e.optLabel]:t,value:e.optValue?t[e.optValue]:t}})})],2):t._e(),"date"===e.type?a("el-date-picker",{attrs:{size:"small","prefix-icon":"none",type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e[e.key],callback:function(a){t.$set(e,e.key,a)},expression:"item[item.key]"}}):t._e()],1)])]})],2)}))},r=[],i={name:"viewSearch",props:{filter:Array}},s=i,o=(a("176b"),a("2877")),c=Object(o["a"])(s,n,r,!1,null,"2fe4e30c",null);c.options.__file="stockSearch.vue";e["a"]=c.exports},8605:function(t,e,a){"use strict";var n=a("4835"),r=a.n(n);r.a},"8b97":function(t,e,a){var n=a("d3f4"),r=a("cb7c"),i=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:n(t,a),t}}({},!1):void 0),check:i}},9093:function(t,e,a){var n=a("ce10"),r=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},aa77:function(t,e,a){var n=a("5ca1"),r=a("be13"),i=a("79e5"),s=a("fdef"),o="["+s+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),p=function(t,e,a){var r={},o=i(function(){return!!s[t]()||c[t]()!=c}),l=r[t]=o?e(f):s[t];a&&(r[a]=l),n(n.P+n.F*o,"String",r)},f=p.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=p},ac6a:function(t,e,a){for(var n=a("cadf"),r=a("0d58"),i=a("2aba"),s=a("7726"),o=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),p=l("toStringTag"),f=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},_=r(d),h=0;h<_.length;h++){var m,v=_[h],g=d[v],b=s[v],y=b&&b.prototype;if(y&&(y[u]||o(y,u,f),y[p]||o(y,p,v),c[v]=f,g))for(m in n)y[m]||i(y,m,n[m],!0)}},ad40:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sell-table"},[a("div",{staticClass:"table-header"},[a("div",{staticClass:"table-header_left"},[a("div",{staticClass:"table-title"},[a("h3",[t._v("商品列表")]),a("span",[t._v("（共"+t._s(t.tableData.total_count)+"条记录）")])]),a("div",{staticClass:"table-refresh icon-refresh",on:{click:t.refreshTable}})]),a("div",{staticClass:"table-header_right"},[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:t.exportExcel}},[t._v("导出数据")])],1)]),a("div",{staticClass:"sell-table-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData.ls,border:"","empty-text":"未找到符合条件的内容"},on:{"selection-change":t.selectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"商品",width:"400",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"goods-item"},[a("img",{attrs:{src:e.row.original_img}}),a("div",{staticClass:"goods-item_name"},[t._v(t._s(e.row.goods_name))])])]}}])}),a("el-table-column",{attrs:{label:"商品规格",width:"140",porp:"key_name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.key_name))]}}])}),a("el-table-column",{attrs:{label:"商品分类",width:"88",porp:"cat_name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.cat_name))]}}])}),a("el-table-column",{attrs:{label:"商品品牌",width:"88",porp:"brand_name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.brand_name))]}}])}),a("el-table-column",{attrs:{label:"销售区域",width:"140",porp:"area_template_name",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.area_template_name))]}}])}),a("el-table-column",{attrs:{label:"供货价",width:"88",porp:"supply_price",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.supply_price))]}}])}),a("el-table-column",{attrs:{label:"交货期",width:"88",porp:"delivery_type",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.delivery_type))]}}])}),a("el-table-column",{attrs:{label:"销量",width:"71",porp:"saled_count",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.saled_count))]}}])}),a("el-table-column",{attrs:{label:"库存",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"total-count"},[a("label",[t._v("实际库存：")]),a("el-input",{attrs:{value:e.row.total_store_count,size:"mini"},on:{blur:function(a){t.changeCount(a,e.row)}}})],1),a("div",{staticClass:"total-count"},[a("label",[t._v("占用库存："+t._s(e.row.store_count))])]),a("div",{staticClass:"total-count"},[a("label",[t._v("可用库存："+t._s(e.row.order_store_count))])])]}}])})],1)],1),a("div",{staticClass:"sell-table-pagination"},[t.tableData.total_count>10?a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.tableData.total_count,"page-size":t.pageSize,"current-page":t.currentPage},on:{"update:currentPage":function(e){t.currentPage=e},"current-change":t.currentChange,"prev-click":t.prevChange,"next-click":t.nextChange}}):t._e()],1)])},r=[],i=(a("c5f6"),a("7f7f"),a("a481"),a("ac6a"),a("be94")),s=(a("96cf"),a("1da1")),o=a("880a"),c={name:"stockTable",props:{dataType:String,title:String,searchDate:{type:Object}},data:function(){return{tableData:{},loading:!0,count:"",pageSize:"",currentPage:"",queryData:{},selectionData:[]}},methods:{goodsSkuList:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,this.tableData=[],t.next=5,this.$axios.post(o["o"],Object(i["a"])({data_type:this.dataType},this.$route.query));case 5:e=t.sent,a=e.data,this.tableData=a,this.loading=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](0),n=t.t0.msg,this.loading=!1,this.$message.error(n);case 16:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),selectionChange:function(t){this.selectionData=t},exportExcel:function(){var t=this.selectionData,e="商品,商品图片,商品规格,商品分类,商品品牌,销售区域,供货价,交货期,销量,实际库存,占用库存,可用库存\n";if(t.length){t.forEach(function(t){e+="\n",e+="".concat(t.goods_name,"\t,").concat(t.original_img,"\t,").concat(t.key_name,"\t,").concat(t.cat_name,"\t,").concat(t.brand_name,"\t,").concat(t.area_template_name,"\t,").concat(t.supply_price,"\t,").concat(t.delivery_type,"\t,").concat(t.saled_count,"\t,").concat(t.total_store_count,"\t,").concat(t.store_count,"\t,").concat(t.order_store_count,"\t\n")});var a="data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(e),n=document.createElement("a");n.href=a,n.download="".concat(this.title,"列表(共").concat(t.length,"条订单).csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}else this.$message.error("请选择要导出的数据")},refreshTable:function(){this.goodsSkuList()},changeCount:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post(o["c"],{id:a.item_id,store_count:e.target.value});case 3:this.goodsSkuList(),this.$message({message:"修改成功！",type:"success"}),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),n=t.t0.msg,this.$message.error(n);case 11:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e,a){return t.apply(this,arguments)}}(),currentChange:function(t){this.changeCurrentPage(t)},prevChange:function(t){this.changeCurrentPage(t)},nextChange:function(t){this.changeCurrentPage(t)},changeCurrentPage:function(t){this.currentPage=t,console.log(this.$route.query),this.$router.replace({name:this.$route.name,query:Object(i["a"])({},this.$route.query,{page:t})}),this.goodsSkuList()}},mounted:function(){this.pageSize=Number(this.$route.query.page_size),this.currentPage=Number(this.$route.query.page),this.goodsSkuList()}},l=c,u=(a("8605"),a("2877")),p=Object(u["a"])(l,n,r,!1,null,"52979d68",null);p.options.__file="stockTable.vue";e["a"]=p.exports},c5f6:function(t,e,a){"use strict";var n=a("7726"),r=a("69a8"),i=a("2d95"),s=a("5dbc"),o=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,p=a("86cc").f,f=a("aa77").trim,d="Number",_=n[d],h=_,m=_.prototype,v=i(a("2aeb")(m))==d,g="trim"in String.prototype,b=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():f(e,3);var a,n,r,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>r)return NaN;return parseInt(c,n)}}return+e};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof _&&(v?c(function(){m.valueOf.call(a)}):i(a)!=d)?s(new h(b(e)),a,_):b(e)};for(var y,k=a("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)r(h,y=k[S])&&!r(_,y)&&p(_,y,u(h,y));_.prototype=m,m.constructor=_,a("2aba")(n,d,_)}},d83e:function(t,e,a){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-8e18a120.8d2464d8.js.map